<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>IMDb Player</title>
<link rel="icon" href="carrete-de-pelicula.ico" type="image/x-icon">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Montserrat', sans-serif; }
html, body { height: 100%; width: 100%; overflow-y: scroll; scroll-behavior: smooth; }
body {
  background: linear-gradient(rgba(0,10,30,0.95), rgba(2,8,25,0.95)),
              url('https://images.unsplash.com/photo-1532375810709-7bfc0c3d75d3?auto=format&fit=crop&w=1950&q=80') 
              no-repeat center center fixed;
  background-size: cover;
  color: #fff;
  transition: background 1.5s ease-in-out;
}

#main { display:flex; flex-direction:column; padding:25px; max-width:1200px; margin:0 auto; }
h2 { margin-bottom:20px; color:#fff; text-align:center; font-weight:700; letter-spacing:1px; }

#modeSelector { display:flex; justify-content:center; gap:20px; margin-bottom:30px; }
#modeSelector button { padding:22px 50px; font-size:24px; border:none; border-radius:12px; background:#001A33; color:#fff; cursor:pointer; transition:all 0.3s ease; }
#modeSelector button:hover { transform:scale(1.05); box-shadow:0 8px 20px rgba(0,0,0,0.6); }

#searchContainer, #searchSeriesContainer { display:flex; justify-content:center; flex-wrap:wrap; gap:15px; margin-bottom:25px; }
input { padding:16px; width:360px; border:none; border-radius:14px; outline:none; font-size:18px; background: rgba(0,25,50,0.6); color:#fff; transition:all 0.3s ease; }
input::placeholder { color:#bbb; }
input:focus { background: rgba(0,25,50,0.8); transform:scale(1.02); }
button.action-btn { padding:16px 24px; font-size:18px; border-radius:12px; background:#00395a; color:#fff; cursor:pointer; transition:all 0.3s ease; }
button.action-btn:hover { transform:scale(1.05); box-shadow:0 10px 20px rgba(0,0,0,0.6); }

#results, #seriesResults { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; padding:0; }
.card { display:flex; flex-direction:column; align-items:center; background:rgba(0,25,50,0.8); padding:12px; border-radius:16px; cursor:pointer; transition:all 0.4s ease; width:140px; margin-bottom:15px; }
.card:hover { transform:scale(1.05) translateY(-5px); box-shadow:0 12px 25px rgba(0,0,0,0.7); }
.poster { width:100px; height:150px; object-fit:cover; border-radius:8px; margin-bottom:8px; }
.title { font-weight:700; font-size:14px; color:#fff; text-align:center; margin-bottom:5px; }

.expanded-card { display:flex; flex-direction:column; align-items:center; background: rgba(0,25,50,0.9); padding:20px; border-radius:16px; width:90%; max-width:800px; margin:0 auto 30px auto; box-shadow:0 12px 30px rgba(0,0,0,0.7); text-align:center; opacity:0; transform:translateY(30px); animation:fadeSlideIn 0.5s forwards; }
@keyframes fadeSlideIn { to { opacity:1; transform:translateY(0); } }
.expanded-card img { width:150px; height:225px; object-fit:cover; border-radius:10px; margin-bottom:15px; }
.expanded-info { color:#fff; font-size:14px; line-height:1.8; }
.expanded-info h3 { margin-bottom:15px; }
.expanded-info a { display:inline-block; margin-top:10px; padding:8px 14px; background:#2c2c2c; color:#ccc; border-radius:8px; font-weight:600; text-decoration:none; transition:all 0.3s ease; }
.expanded-info a:hover { background:#444; color:#fff; }

#playerWrapper, #seriesPlayerWrapper { margin-top:20px; display:flex; flex-direction:column; align-items:center; }
#manualInput, #manualSeriesInput { display:flex; flex-wrap:wrap; gap:12px; justify-content:center; margin-bottom:20px; }
#playerContainer, #seriesPlayerContainer { width:95%; height:60vh; background:#000; border-radius:20px; overflow:hidden; box-shadow:0 12px 35px rgba(0,0,0,0.6); margin-bottom:30px; transition:box-shadow 1s ease; }
#playerContainer iframe, #seriesPlayerContainer iframe { width:100%; height:100%; border:0; }

.pagination { display: flex; justify-content: center; margin: 20px 0;}
.pagination button { padding: 10px 16px; background: rgba(0, 40, 80, 0.7); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 500; transition:all 0.3s ease;}
.pagination button:hover { background: rgba(0, 60, 120, 0.9); transform: translateY(-2px);}
.pagination button:disabled { background: rgba(50,50,50,0.5); cursor: not-allowed; transform: none; }

#cineOverlay, #cineOverlaySeries { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.95); display:none; z-index:1000;}
#cineOverlay iframe, #cineOverlaySeries iframe { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:90%; height:80%; border:none; border-radius:16px; box-shadow:0 0 80px rgba(255,255,255,0.4); }
#cineOverlay button, #cineOverlaySeries button { position:absolute; top:20px; right:20px; z-index:1010; padding:10px 16px; font-size:16px; background:rgba(255,255,255,0.2); color:#fff; border:none; border-radius:8px; cursor:pointer; }

@media (max-width:768px){ input{width:90%;} button{width:90%;} .card{width:40%;} .expanded-card img{width:120px;height:180px;} #playerContainer,#seriesPlayerContainer{height:50vh;} }
@media (max-width:480px){ .card{width:70%;} .expanded-card img{width:100px;height:150px;} #playerContainer,#seriesPlayerContainer{height:45vh;} .pagination button { padding: 8px 12px; } }
</style>
</head>
<body>
<div id="main">
<h2>IMDb Player</h2>
<div id="modeSelector">
  <button onclick="showMode('movies')">Pel√≠culas üé¨</button>
  <button onclick="showMode('series')">Series üì∫</button>
</div>

<!-- PEL√çCULAS -->
<div id="moviesSection" style="display:none;">
  <div id="searchContainer">
    <input type="text" id="titleInput" placeholder="Escribe el t√≠tulo...">
    <button class="action-btn" onclick="startSearch()">Buscar</button>
  </div>
  <div id="results"></div>
  <div id="moviesPagination" class="pagination"></div>
  <div id="playerWrapper">
    <div id="manualInput">
      <input type="text" id="imdbInput" placeholder="Introduce c√≥digo IMDb (tt...)">
      <button class="action-btn" onclick="loadMovie()">‚ñ∂Ô∏è Cargar pel√≠cula</button>
      <button class="action-btn" onclick="toggleCineMode()">üé¨ Modo cine</button>
    </div>
    <div id="playerContainer">
      <iframe id="playerIframe" src="https://vidfast.pro/movie/000000" allowfullscreen allow="encrypted-media"></iframe>
    </div>
  </div>
</div>

<!-- SERIES -->
<div id="seriesSection" style="display:none;">
  <div id="searchSeriesContainer">
    <input type="text" id="seriesTitleInput" placeholder="Escribe el t√≠tulo de la serie...">
    <button class="action-btn" onclick="startSeriesSearch()">Buscar</button>
  </div>
  <div id="seriesResults"></div>
  <div id="seriesPagination" class="pagination"></div>
  <div id="seriesPlayerWrapper">
    <div id="manualSeriesInput">
      <input type="text" id="seriesImdbInput" placeholder="Introduce c√≥digo IMDb (tt...)">
      <input type="number" id="seasonInput" placeholder="Temporada" min="1">
      <input type="number" id="episodeInput" placeholder="Episodio" min="1">
      <button class="action-btn" onclick="loadSeries()">‚ñ∂Ô∏è Cargar episodio</button>
      <button class="action-btn" onclick="toggleCineModeSeries()">üé¨ Modo cine</button>
    </div>
    <div id="seriesPlayerContainer">
      <iframe id="seriesPlayerIframe" src="https://vidfast.pro/tv/000000/1/1" allowfullscreen allow="encrypted-media"></iframe>
    </div>
  </div>
</div>
</div>

<!-- OVERLAYS MODO CINE -->
<div id="cineOverlay">
  <button onclick="toggleCineMode()">‚èé Salir</button>
  <iframe id="cineIframe" allowfullscreen allow="encrypted-media"></iframe>
</div>

<div id="cineOverlaySeries">
  <button onclick="toggleCineModeSeries()">‚èé Salir</button>
  <iframe id="cineSeriesIframe" allowfullscreen allow="encrypted-media"></iframe>
</div>

<script>
const apiKey="1793830";
let currentPage=1,totalPages=1,currentTitle='';
let currentSeriesPage=1,totalSeriesPages=1,currentSeriesTitle='';

// Modo selector
function showMode(mode){
  document.getElementById('moviesSection').style.display = mode==='movies'?'block':'none';
  document.getElementById('seriesSection').style.display = mode==='series'?'block':'none';
}

// --------- PEL√çCULAS ---------
const results=document.getElementById('results');
const imdbInput=document.getElementById('imdbInput');
const playerIframe=document.getElementById('playerIframe');
const moviesPagination=document.getElementById('moviesPagination');

function startSearch(){
  results.innerHTML=''; moviesPagination.innerHTML=''; currentPage=1;
  currentTitle=document.getElementById('titleInput').value.trim();
  if(!currentTitle) return;
  searchMovie(currentPage);
}

function searchMovie(page){
  const script=document.createElement('script');
  script.src=`https://www.omdbapi.com/?s=${encodeURIComponent(currentTitle)}&page=${page}&apikey=${apiKey}&callback=handleResults`;
  document.body.appendChild(script);
}

function handleResults(data){
  if(data.Response!=='True'){ results.innerHTML=''; moviesPagination.innerHTML=''; return; }
  results.innerHTML=''; totalPages=Math.ceil(parseInt(data.totalResults)/10);
  updatePagination(moviesPagination,'movies');
  data.Search.forEach(movie=>{
    fetch(`https://www.omdbapi.com/?i=${movie.imdbID}&apikey=${apiKey}`).then(r=>r.json()).then(details=>{
      const card=document.createElement('div'); card.className='card';
      card.innerHTML=`<img class="poster" src="${movie.Poster!=='N/A'?movie.Poster:'https://via.placeholder.com/100x150?text=No+Image'}">
        <div class="title">${movie.Title} (${movie.Year})</div>`;
      card.onclick=()=>{
        results.innerHTML=''; moviesPagination.innerHTML='';
        const expanded=document.createElement('div'); expanded.className='expanded-card';
        expanded.innerHTML=`
          <img src="${movie.Poster!=='N/A'?movie.Poster:'https://via.placeholder.com/150x225?text=No+Image'}">
          <div class="expanded-info">
            <h3>${movie.Title} (${movie.Year})</h3>
            <p><strong>Director:</strong> ${details.Director}</p>
            <p><strong>Reparto:</strong> ${details.Actors}</p>
            <p><strong>IMDb:</strong> <span style="color:limegreen;">${details.imdbRating}</span></p>
            <p><strong>G√©nero:</strong> ${details.Genre}</p>
            <p><strong>Duraci√≥n:</strong> ${details.Runtime}</p>
            <p><strong>Pa√≠s:</strong> ${details.Country}</p>
            <p><strong>Sinopsis:</strong> ${details.Plot}</p>
            <a href="https://www.youtube.com/results?search_query=${encodeURIComponent(movie.Title+' trailer')}" target="_blank">‚ñ∂Ô∏è Ver tr√°iler</a>
          </div>`;
        results.appendChild(expanded);
        playerIframe.src=`https://vidfast.pro/movie/${movie.imdbID}`;
        imdbInput.value=movie.imdbID;
      };
      results.appendChild(card);
    });
  });
}

function loadMovie(){ const code=imdbInput.value.trim(); if(code) playerIframe.src=`https://vidfast.pro/movie/${code}`; }
function toggleCineMode(){ 
  const overlay=document.getElementById('cineOverlay'); 
  const iframe=document.getElementById('cineIframe'); 
  if(overlay.style.display==='block'){ overlay.style.display='none'; iframe.src=''; }
  else{ overlay.style.display='block'; iframe.src=playerIframe.src; }
}

// --------- SERIES ---------
const seriesResults=document.getElementById('seriesResults');
const seriesImdbInput=document.getElementById('seriesImdbInput');
const seriesPlayerIframe=document.getElementById('seriesPlayerIframe');
const seasonInput=document.getElementById('seasonInput');
const episodeInput=document.getElementById('episodeInput');

function startSeriesSearch(){
  seriesResults.innerHTML=''; seriesPagination.innerHTML=''; currentSeriesPage=1;
  currentSeriesTitle=document.getElementById('seriesTitleInput').value.trim();
  if(!currentSeriesTitle) return;
  searchSeries(currentSeriesPage);
}

function searchSeries(page){
  fetch(`https://www.omdbapi.com/?s=${encodeURIComponent(currentSeriesTitle)}&type=series&page=${page}&apikey=${apiKey}`)
  .then(res=>res.json()).then(data=>{
    if(data.Response!=='True'){ seriesResults.innerHTML=''; seriesPagination.innerHTML=''; return; }
    seriesResults.innerHTML=''; totalSeriesPages=Math.ceil(parseInt(data.totalResults)/10);
    updatePagination(seriesPagination,'series');
    data.Search.forEach(series=>{
      fetch(`https://www.omdbapi.com/?i=${series.imdbID}&apikey=${apiKey}`).then(r=>r.json()).then(details=>{
        const card=document.createElement('div'); card.className='card';
        card.innerHTML=`<img class="poster" src="${series.Poster!=='N/A'?series.Poster:'https://via.placeholder.com/100x150?text=No+Image'}">
          <div class="title">${series.Title} (${series.Year})</div>`;
        card.onclick=()=>{
          seriesResults.innerHTML=''; seriesPagination.innerHTML='';
          const expanded=document.createElement('div'); expanded.className='expanded-card';
          expanded.innerHTML=`
            <img src="${series.Poster!=='N/A'?series.Poster:'https://via.placeholder.com/150x225?text=No+Image'}">
            <div class="expanded-info">
              <h3>${series.Title} (${series.Year})</h3>
              <p><strong>Director:</strong> ${details.Director}</p>
              <p><strong>Reparto:</strong> ${details.Actors}</p>
              <p><strong>IMDb:</strong> <span style="color:limegreen;">${details.imdbRating}</span></p>
              <p><strong>G√©nero:</strong> ${details.Genre}</p>
              <p><strong>Temporadas:</strong> ${details.totalSeasons}</p>
              <p><strong>Pa√≠s:</strong> ${details.Country}</p>
              <p><strong>Sinopsis:</strong> ${details.Plot}</p>
              <a href="https://www.youtube.com/results?search_query=${encodeURIComponent(series.Title+' trailer')}" target="_blank">‚ñ∂Ô∏è Ver tr√°iler</a>
            </div>`;
          seriesResults.appendChild(expanded);
          seriesImdbInput.value=series.imdbID;
          updateSeriesPlayer();
        };
        seriesResults.appendChild(card);
      });
    });
  });
}

function updateSeriesPlayer(){
  const code=seriesImdbInput.value.trim();
  const season=seasonInput.value.trim();
  const episode=episodeInput.value.trim();
  if(code && season && episode) seriesPlayerIframe.src=`https://vidfast.pro/tv/${code}/${season}/${episode}`;
}
function loadSeries(){ updateSeriesPlayer(); }
seasonInput.addEventListener("input", updateSeriesPlayer);
episodeInput.addEventListener("input", updateSeriesPlayer);
function toggleCineModeSeries(){ 
  const overlay=document.getElementById('cineOverlaySeries'); 
  const iframe=document.getElementById('cineSeriesIframe'); 
  if(overlay.style.display==='block'){ overlay.style.display='none'; iframe.src=''; }
  else{ overlay.style.display='block'; iframe.src=seriesPlayerIframe.src; } 
}

// --------- PAGINACI√ìN ---------
function updatePagination(paginationEl,type){
  paginationEl.innerHTML='';
  const prevBtn=document.createElement('button'); prevBtn.innerHTML='&laquo;';
  prevBtn.onclick=()=>{
    if(type==='movies' && currentPage>1){ currentPage--; searchMovie(currentPage); }
    if(type==='series' && currentSeriesPage>1){ currentSeriesPage--; searchSeries(currentSeriesPage); }
  };
  const nextBtn=document.createElement('button'); nextBtn.innerHTML='&raquo;';
  nextBtn.onclick=()=>{
    if(type==='movies' && currentPage<totalPages){ currentPage++; searchMovie(currentPage); }
    if(type==='series' && currentSeriesPage<totalSeriesPages){ currentSeriesPage++; searchSeries(currentSeriesPage); }
  };
  paginationEl.appendChild(prevBtn); paginationEl.appendChild(nextBtn);
}
</script>
</body>
</html>






